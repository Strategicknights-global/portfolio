import Navbar from "@/components/Navbar";
import Footer from "@/components/Footer";
import PostCard from "@/components/PostCard";
import { connectDB } from "@/lib/firebase";
import Post from "@/models/Post";

export const metadata = { title: "Blog â€¢ Nivethitha" };

export default async function Blog() {
  await connectDB();
  const posts = await Post.find().sort({ publishedAt: -1 }).lean();
  return (
    <>
      <Navbar />
      <main className="container py-10">
        <h1 className="text-3xl font-semibold mb-4">Blog</h1>
        <div className="grid md:grid-cols-2 gap-6">
          {posts.map((post) => <PostCard key={post._id} post={post} />)}
        </div>
      </main>
      <Footer />
    </>
  );
}
